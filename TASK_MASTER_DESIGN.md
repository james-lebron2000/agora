# Task Master - è‡ªåŠ¨åŒ–é¡¹ç›®ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

## ç³»ç»Ÿæ¶æ„

```
Task Master
â”œâ”€â”€ task_queue/              # ä»»åŠ¡é˜Ÿåˆ—
â”‚   â”œâ”€â”€ pending/            # å¾…æ‰§è¡Œä»»åŠ¡
â”‚   â”œâ”€â”€ in_progress/        # æ‰§è¡Œä¸­ä»»åŠ¡
â”‚   â””â”€â”€ completed/          # å·²å®Œæˆä»»åŠ¡
â”œâ”€â”€ task_definitions/       # ä»»åŠ¡å®šä¹‰
â”‚   â”œâ”€â”€ stock_stalker.yaml  # Stock Stalker é¡¹ç›®ä»»åŠ¡
â”‚   â”œâ”€â”€ treatbot.yaml       # Treatbot é¡¹ç›®ä»»åŠ¡
â”‚   â””â”€â”€ new_projects.yaml   # æ–°é¡¹ç›®ä»»åŠ¡
â”œâ”€â”€ codex_worker.py         # Codex å·¥ä½œè¿›ç¨‹
â”œâ”€â”€ progress_reporter.py    # è¿›åº¦æ±‡æŠ¥å™¨
â””â”€â”€ cron_setup.sh          # Cron å®‰è£…è„šæœ¬
```

## æ ¸å¿ƒå·¥ä½œæµ

### 1. ä»»åŠ¡çŠ¶æ€æœº
```
PENDING â†’ ASSIGNED â†’ IN_PROGRESS â†’ COMPLETED/FAILED
   â†‘           â†“           â†“
   â””â”€â”€â”€â”€â”€â”€â”€â”€ RETRY (max 3)
```

### 2. è‡ªåŠ¨åŒ–æµç¨‹
```
æ¯30åˆ†é’Ÿæ£€æŸ¥ï¼š
1. æ‰«æ task_queue/pending/ æ˜¯å¦æœ‰æ–°ä»»åŠ¡
2. å¦‚æœæœ‰ â†’ è°ƒç”¨ Codex æ‰§è¡Œ
3. ç›‘æ§æ‰§è¡Œè¿›åº¦
4. æ±‡æŠ¥ç»™ç”¨æˆ·
5. ä»»åŠ¡å®Œæˆ â†’ ç§»åŠ¨åˆ° completed/
```

### 3. ä»»åŠ¡ä¼˜å…ˆçº§
- **P0 (ç´§æ€¥)**: é˜»å¡æ€§é—®é¢˜ï¼Œç«‹å³æ‰§è¡Œ
- **P1 (é«˜)**: é‡è¦åŠŸèƒ½ï¼Œå½“å¤©å®Œæˆ
- **P2 (ä¸­)**: ä¼˜åŒ–æ”¹è¿›ï¼Œæœ¬å‘¨å®Œæˆ
- **P3 (ä½)**:  Nice to haveï¼Œç©ºé—²æ—¶åš

## å½“å‰ä»»åŠ¡é˜Ÿåˆ—

### Stock Stalker é¡¹ç›® (Aå’ŒBå·²å®Œæˆ)
**çŠ¶æ€**: âœ… æ ¸å¿ƒæ¶æ„å®Œæˆï¼Œå¯è¿è¡ŒåŸºç¡€åŠŸèƒ½

**å¾…åŠä»»åŠ¡ (P1)**:
- [ ] 1. ä¿®å¤æ•°æ®åº“æ—¶é—´æ ¼å¼é—®é¢˜
- [ ] 2. æ·»åŠ çœŸå®APIé›†æˆï¼ˆç­‰å¾…ç”¨æˆ·å¯†é’¥ï¼‰
  - OpenAI API
  - Alpha Vantage API
  - é€šçŸ¥æœåŠ¡API
- [ ] 3. æ·»åŠ æ›´å¤šå…è´¹æ•°æ®æº
  - Finviz æ•°æ®
  - MarketWatch æ•°æ®
- [ ] 4. æ€§èƒ½ä¼˜åŒ–
  - æ·»åŠ ç¼“å­˜å±‚ï¼ˆRedisï¼‰
  - å¼‚æ­¥æŠ“å–
- [ ] 5. éƒ¨ç½²å‡†å¤‡
  - Docker å®¹å™¨åŒ–
  - ç”Ÿäº§ç¯å¢ƒé…ç½®

### Treatbot é¡¹ç›®
**çŠ¶æ€**: â³ ç­‰å¾…æœåŠ¡å™¨è´­ä¹°éƒ¨ç½²

**å¾…åŠä»»åŠ¡ (P0)**:
- [ ] 1. æœåŠ¡å™¨è´­ä¹°æŒ‡å¯¼ï¼ˆå®æ—¶ï¼‰
- [ ] 2. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- [ ] 3. é…ç½®å¾®ä¿¡å°ç¨‹åºåŸŸå

### æ–°é¡¹ç›®
**çŠ¶æ€**: ğŸ“‹ ç­‰å¾…å¯åŠ¨

**å€™é€‰é¡¹ç›®**:
- [ ] VC é‚®ä»¶å¤„ç†å™¨ï¼ˆè‡ªåŠ¨æ”¶å–é‚®ä»¶â†’åˆ†æPDF/PPTXï¼‰
- [ ] ä¸´åºŠåŒ»å­¦AIç³»ç»Ÿ
- [ ] å…¶ä»–ç”¨æˆ·æè®®

## ä»»åŠ¡æ‰§è¡Œç­–ç•¥

### è‡ªåŠ¨è§¦å‘æ¡ä»¶
1. **æ—¶é—´è§¦å‘**: æ¯30åˆ†é’Ÿæ£€æŸ¥é˜Ÿåˆ—
2. **äº‹ä»¶è§¦å‘**: ç”¨æˆ·æ·»åŠ æ–°ä»»åŠ¡
3. **ä¾èµ–è§¦å‘**: å‰ç½®ä»»åŠ¡å®Œæˆ

### Codex è°ƒç”¨ç­–ç•¥
```python
# ä¼ªä»£ç 
if pending_tasks_exist():
    task = get_highest_priority_task()
    
    if task.type == "CODE":
        codex.exec(f"å®Œå–„ {task.project} çš„ {task.description}")
    elif task.type == "DEBUG":
        codex.exec(f"ä¿®å¤ {task.project} çš„ {task.bug_description}")
    elif task.type == "RESEARCH":
        codex.plan(f"ç ”ç©¶ {task.topic}")
    
    monitor_progress(task)
    report_to_user(task)
```

## è¿›åº¦æ±‡æŠ¥æ¨¡æ¿

### æ¯30åˆ†é’Ÿæ±‡æŠ¥
```
ğŸ“Š Task Master è¿›åº¦æŠ¥å‘Š
æ—¶é—´: 2026-02-26 14:30

ğŸ”„ è¿›è¡Œä¸­ä»»åŠ¡:
  â€¢ Stock Stalker - ä¿®å¤æ•°æ®åº“æ—¶é—´æ ¼å¼ [P1]
    è¿›åº¦: 50% | é¢„è®¡å®Œæˆ: 15:00

â³ å¾…åŠä»»åŠ¡ (3ä¸ª):
  â€¢ æ·»åŠ  OpenAI API é›†æˆ [P1]
  â€¢ Treatbot æœåŠ¡å™¨éƒ¨ç½² [P0] - ç­‰å¾…ç”¨æˆ·
  â€¢ VCé‚®ä»¶å¤„ç†å™¨å¯åŠ¨ [P2]

âœ… æœ€è¿‘å®Œæˆ:
  â€¢ Yahoo Finance é›†æˆ [30åˆ†é’Ÿå‰]
  â€¢ Watchlist ç®¡ç† [1å°æ—¶å‰]

ğŸ“ˆ ä»Šæ—¥ç»Ÿè®¡:
  å®Œæˆä»»åŠ¡: 5ä¸ª
  æ–°å¢ä»»åŠ¡: 2ä¸ª
  Codexè°ƒç”¨: 8æ¬¡

ğŸ¯ å»ºè®®:
  1. æä¾› OpenAI API å¯†é’¥ä»¥ç»§ç»­å¢å¼ºåˆ†æ
  2. è´­ä¹°æœåŠ¡å™¨ä»¥éƒ¨ç½² Treatbot
```

## ä½¿ç”¨æ–¹æ³•

### 1. æ·»åŠ æ–°ä»»åŠ¡
```bash
./task_master add --project "Stock Stalker" \
  --task "æ·»åŠ æŠ€æœ¯æŒ‡æ ‡è®¡ç®—" \
  --priority P2 \
  --description "è®¡ç®—RSI, MACD, å¸ƒæ—å¸¦ç­‰æŠ€æœ¯æŒ‡æ ‡"
```

### 2. æŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ—
```bash
./task_master list
```

### 3. æ ‡è®°ä»»åŠ¡å®Œæˆ
```bash
./task_master complete --task-id 5
```

### 4. æŸ¥çœ‹è¿›åº¦æŠ¥å‘Š
```bash
./task_master report
```

## å®‰è£…å®šæ—¶ä»»åŠ¡

```bash
# å®‰è£… cron ä»»åŠ¡ï¼ˆæ¯30åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼‰
./install_cron.sh

# æ‰‹åŠ¨è¿è¡Œæ£€æŸ¥
./task_master check

# å¼ºåˆ¶ç«‹å³æ‰§è¡Œæ‰€æœ‰P0/P1ä»»åŠ¡
./task_master run-all
```

## é…ç½®é€‰é¡¹

```yaml
# config/task_master.yaml
cron:
  interval_minutes: 30
  report_time: "09:00, 18:00"  # æ—¥æŠ¥æ—¶é—´

codex:
  max_concurrent_tasks: 2
  timeout_seconds: 1800  # 30åˆ†é’Ÿ
  retry_max: 3

notifications:
  wechat: true
  email: false
  slack: false

projects:
  stock_stalker:
    path: "~/clawd/stock_stalker"
    auto_improve: true
  
  treatbot:
    path: "~/treatbot-weapp"
    auto_improve: false  # ç­‰å¾…æœåŠ¡å™¨
```

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³å¯åš**:
1. å®‰è£… cron å®šæ—¶ä»»åŠ¡
2. æ·»åŠ ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–ä»»åŠ¡
3. é…ç½®é€šçŸ¥æ–¹å¼

**ç­‰å¾…ç”¨æˆ·**:
1. æä¾› API å¯†é’¥ï¼ˆOpenAI, Alpha Vantageç­‰ï¼‰
2. ç¡®è®¤æœåŠ¡å™¨è´­ä¹°æ—¶é—´
3. å¯åŠ¨æ–°é¡¹ç›®ï¼ˆVCé‚®ä»¶å¤„ç†å™¨ï¼‰

---

**è¦æˆ‘ç«‹å³å®‰è£…è¿™ä¸ªä»»åŠ¡ç®¡ç†ç³»ç»Ÿå—ï¼Ÿ** ğŸš€