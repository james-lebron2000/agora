# ========================================
# Database Configuration
# ========================================

# Primary Database URL (used for writes through PgBouncer)
# Format: postgresql://user:password@host:port/database?schema=public&pgbouncer=true
DATABASE_URL=postgresql://agora:agora_secret@localhost:6432/agora?schema=public&pgbouncer=true

# Direct connection to PostgreSQL (for migrations and introspection)
# This bypasses PgBouncer
DIRECT_URL=postgresql://agora:agora_secret@localhost:5432/agora?schema=public

# Shadow database (for Prisma migrations in development)
SHADOW_DATABASE_URL=postgresql://agora:agora_secret@localhost:5432/agora_shadow?schema=public

# Read Replica URL (for read-heavy operations)
# Format: postgresql://user:password@replica-host:port/database?schema=public
READ_REPLICA_URL=postgresql://agora:agora_secret@localhost:5433/agora?schema=public

# ========================================
# PostgreSQL Settings
# ========================================
POSTGRES_USER=agora
POSTGRES_PASSWORD=agora_secret
POSTGRES_DB=agora
POSTGRES_PORT=5432
POSTGRES_REPLICA_PORT=5433

# ========================================
# PgBouncer Settings
# ========================================
PGBOUNCER_PORT=6432

# ========================================
# Optional: PgAdmin
# ========================================
PGADMIN_EMAIL=admin@agora.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# ========================================
# Optional: Redis
# ========================================
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# ========================================
# Application Settings
# ========================================
NODE_ENV=development
LOG_LEVEL=debug

# ========================================
# Backup Settings
# ========================================
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=
S3_BACKUP_PREFIX=agora-backups/
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
